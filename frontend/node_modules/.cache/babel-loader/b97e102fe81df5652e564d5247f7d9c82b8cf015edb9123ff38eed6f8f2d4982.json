{"ast":null,"code":"'use strict';\n\nvar core = require('@react-pdf-viewer/core');\nvar React = require('react');\nfunction _interopNamespaceDefault(e) {\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n  n.default = e;\n  return Object.freeze(n);\n}\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\nvar getImageFromArea = function () {\n  var newCanvas = document.createElement('canvas');\n  var dpr = window.devicePixelRatio || 1;\n  return function (canvasEle, highlightArea) {\n    var canvasRect = canvasEle.getBoundingClientRect();\n    var left = highlightArea.left * canvasRect.width / 100;\n    var top = highlightArea.top * canvasRect.height / 100;\n    var width = highlightArea.width * canvasRect.width / 100;\n    var height = highlightArea.height * canvasRect.height / 100;\n    var context = newCanvas.getContext('2d');\n    newCanvas.width = width;\n    newCanvas.height = height;\n    context === null || context === void 0 ? void 0 : context.drawImage(canvasEle, left * dpr, top * dpr, width * dpr, height * dpr, 0, 0, width, height);\n    return newCanvas.toDataURL('image/png');\n  };\n};\nvar HighlightStateType;\n(function (HighlightStateType) {\n  HighlightStateType[\"NoSelection\"] = \"NoSelection\";\n  HighlightStateType[\"Selecting\"] = \"Selecting\";\n  HighlightStateType[\"Selected\"] = \"Selected\";\n  HighlightStateType[\"Selection\"] = \"Selection\";\n  HighlightStateType[\"ClickDragging\"] = \"ClickDragging\";\n  HighlightStateType[\"ClickDragged\"] = \"ClickDragged\";\n})(HighlightStateType || (HighlightStateType = {}));\nvar EMPTY_SELECTION_REGION = {\n  height: 0,\n  left: 0,\n  pageIndex: -1,\n  top: 0,\n  width: 0\n};\nvar NO_SELECTION_STATE = {\n  highlightAreas: [],\n  selectionRegion: EMPTY_SELECTION_REGION,\n  type: HighlightStateType.NoSelection\n};\nvar SELECTING_STATE = {\n  highlightAreas: [],\n  selectionRegion: EMPTY_SELECTION_REGION,\n  type: HighlightStateType.Selecting\n};\nvar ClickDrag = function (_a) {\n  var canvasLayerRef = _a.canvasLayerRef,\n    canvasLayerRendered = _a.canvasLayerRendered,\n    pageIndex = _a.pageIndex,\n    store = _a.store,\n    textLayerRef = _a.textLayerRef,\n    textLayerRendered = _a.textLayerRendered;\n  var containerRef = React__namespace.useRef();\n  var currentCursorRef = React__namespace.useRef(document.body.style.cursor);\n  var startPointRef = React__namespace.useRef({\n    x: 0,\n    y: 0\n  });\n  var offsetRef = React__namespace.useRef({\n    top: 0,\n    left: 0\n  });\n  var hideContainer = function () {\n    var container = containerRef.current;\n    if (container) {\n      container.classList.add('rpv-highlight__click-drag--hidden');\n    }\n  };\n  var handleMouseDown = function (e) {\n    var textLayerEle = textLayerRef.current;\n    var container = containerRef.current;\n    if (!e.altKey || !textLayerEle || !container || e.button !== 0) {\n      return;\n    }\n    e.preventDefault();\n    document.body.style.cursor = 'crosshair';\n    var rect = textLayerEle.getBoundingClientRect();\n    var startPoint = {\n      x: e.clientX,\n      y: e.clientY\n    };\n    startPointRef.current = startPoint;\n    var offset = {\n      top: (startPoint.y - rect.top) * 100 / rect.height,\n      left: (startPoint.x - rect.left) * 100 / rect.width\n    };\n    offsetRef.current = offset;\n    container.style.top = \"\".concat(offset.top, \"%\");\n    container.style.left = \"\".concat(offset.left, \"%\");\n    container.style.height = '0px';\n    container.style.width = '0px';\n    document.addEventListener('mousemove', handleDocumentMouseMove);\n    document.addEventListener('mouseup', handleDocumentMouseUp);\n    store.updateCurrentValue('highlightState', function (currentState) {\n      return Object.assign({}, currentState, {\n        type: HighlightStateType.ClickDragging\n      });\n    });\n  };\n  var handleDocumentMouseMove = function (e) {\n    var textLayerEle = textLayerRef.current;\n    var container = containerRef.current;\n    if (!textLayerEle || !container) {\n      return;\n    }\n    e.preventDefault();\n    var endPoint = {\n      x: e.clientX - startPointRef.current.x,\n      y: e.clientY - startPointRef.current.y\n    };\n    var rect = textLayerEle.getBoundingClientRect();\n    if (container.classList.contains('rpv-highlight__click-drag--hidden')) {\n      container.classList.remove('rpv-highlight__click-drag--hidden');\n    }\n    var width = Math.min(100 - offsetRef.current.left, endPoint.x * 100 / rect.width);\n    var height = Math.min(100 - offsetRef.current.top, endPoint.y * 100 / rect.height);\n    container.style.width = \"\".concat(width, \"%\");\n    container.style.height = \"\".concat(height, \"%\");\n  };\n  var handleDocumentKeyDown = function (e) {\n    if (e.key === 'Escape' && store.get('highlightState').type === HighlightStateType.ClickDragged) {\n      e.preventDefault();\n      hideContainer();\n      store.update('highlightState', NO_SELECTION_STATE);\n    }\n  };\n  var handleDocumenClick = function (e) {\n    var container = containerRef.current;\n    if (!container) {\n      return;\n    }\n    var highlightType = store.get('highlightState').type;\n    if (highlightType === HighlightStateType.NoSelection && e.target !== container) {\n      hideContainer();\n    }\n  };\n  var handleDocumentMouseUp = function (e) {\n    e.preventDefault();\n    document.removeEventListener('mousemove', handleDocumentMouseMove);\n    document.removeEventListener('mouseup', handleDocumentMouseUp);\n    resetCursor();\n    var container = containerRef.current;\n    var canvasEle = canvasLayerRef.current;\n    if (!container || !canvasEle) {\n      return;\n    }\n    var highlightArea = {\n      pageIndex: pageIndex,\n      top: parseFloat(container.style.top.slice(0, -1)),\n      left: parseFloat(container.style.left.slice(0, -1)),\n      height: parseFloat(container.style.height.slice(0, -1)),\n      width: parseFloat(container.style.width.slice(0, -1))\n    };\n    var previewImage = getImageFromArea()(canvasEle, highlightArea);\n    var newState = {\n      highlightAreas: [highlightArea],\n      previewImage: previewImage,\n      selectionRegion: highlightArea,\n      type: HighlightStateType.ClickDragged\n    };\n    store.update('highlightState', newState);\n  };\n  var resetCursor = function () {\n    currentCursorRef.current ? document.body.style.cursor = currentCursorRef.current : document.body.style.removeProperty('cursor');\n  };\n  var handleHighlightState = function (s) {\n    if (s.type === HighlightStateType.Selection || s.type === HighlightStateType.ClickDragging && s.selectionRegion.pageIndex !== pageIndex) {\n      hideContainer();\n    }\n  };\n  React__namespace.useEffect(function () {\n    store.subscribe('highlightState', handleHighlightState);\n    return function () {\n      store.unsubscribe('highlightState', handleHighlightState);\n    };\n  }, []);\n  React__namespace.useEffect(function () {\n    var canvasEle = canvasLayerRef.current;\n    var textLayerEle = textLayerRef.current;\n    if (!canvasLayerRendered || !textLayerRendered || !canvasEle || !textLayerEle) {\n      return;\n    }\n    textLayerEle.addEventListener('mousedown', handleMouseDown);\n    var eventOptions = {\n      capture: true\n    };\n    document.addEventListener('keydown', handleDocumentKeyDown);\n    document.addEventListener('click', handleDocumenClick, eventOptions);\n    return function () {\n      textLayerEle.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('click', handleDocumenClick, eventOptions);\n      document.removeEventListener('keydown', handleDocumentKeyDown);\n    };\n  }, [textLayerRendered]);\n  return React__namespace.createElement(\"div\", {\n    ref: containerRef,\n    className: \"rpv-highlight__click-drag rpv-highlight__click-drag--hidden\"\n  });\n};\nvar HIGHLIGHT_LAYER_ATTR = 'data-highlight-text-layer';\nvar HIGHLIGHT_PAGE_ATTR = 'data-highlight-text-page';\nvar normalizeRotation = function (rotation) {\n  return rotation >= 0 ? rotation : 360 + rotation;\n};\nvar getCssProperties = function (area, rotation) {\n  var r = normalizeRotation(rotation);\n  switch (r) {\n    case 90:\n      return {\n        height: \"\".concat(area.width, \"%\"),\n        position: 'absolute',\n        right: \"\".concat(area.top, \"%\"),\n        top: \"\".concat(area.left, \"%\"),\n        width: \"\".concat(area.height, \"%\")\n      };\n    case 180:\n      return {\n        bottom: \"\".concat(area.top, \"%\"),\n        height: \"\".concat(area.height, \"%\"),\n        position: 'absolute',\n        right: \"\".concat(area.left, \"%\"),\n        width: \"\".concat(area.width, \"%\")\n      };\n    case 270:\n      return {\n        height: \"\".concat(area.width, \"%\"),\n        position: 'absolute',\n        left: \"\".concat(area.top, \"%\"),\n        bottom: \"\".concat(area.left, \"%\"),\n        width: \"\".concat(area.height, \"%\")\n      };\n    case 0:\n    case 360:\n    default:\n      return {\n        height: \"\".concat(area.height, \"%\"),\n        position: 'absolute',\n        top: \"\".concat(area.top, \"%\"),\n        left: \"\".concat(area.left, \"%\"),\n        width: \"\".concat(area.width, \"%\")\n      };\n  }\n};\nvar transformArea = function (area, rotation) {\n  var r = normalizeRotation(rotation);\n  switch (r) {\n    case 90:\n      return {\n        height: area.width,\n        left: area.top,\n        pageIndex: area.pageIndex,\n        top: 100 - area.width - area.left,\n        width: area.height\n      };\n    case 180:\n      return {\n        height: area.height,\n        left: 100 - area.width - area.left,\n        pageIndex: area.pageIndex,\n        top: 100 - area.height - area.top,\n        width: area.width\n      };\n    case 270:\n      return {\n        height: area.width,\n        left: 100 - area.height - area.top,\n        pageIndex: area.pageIndex,\n        top: area.left,\n        width: area.height\n      };\n    case 0:\n    case 360:\n    default:\n      return area;\n  }\n};\nvar HighlightRect = function (_a) {\n  var area = _a.area,\n    rotation = _a.rotation;\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-highlight__selected-text\",\n    style: getCssProperties(area, rotation)\n  });\n};\nvar useRotation = function (store) {\n  var _a = React__namespace.useState(store.get('rotation') || 0),\n    rotation = _a[0],\n    setRotation = _a[1];\n  var handleRotationChanged = function (currentRotation) {\n    return setRotation(currentRotation);\n  };\n  React__namespace.useEffect(function () {\n    store.subscribe('rotation', handleRotationChanged);\n    return function () {\n      store.unsubscribe('rotation', handleRotationChanged);\n    };\n  }, []);\n  return {\n    rotation: rotation\n  };\n};\nvar HighlightAreaList = function (_a) {\n  var pageIndex = _a.pageIndex,\n    renderHighlightContent = _a.renderHighlightContent,\n    renderHighlightTarget = _a.renderHighlightTarget,\n    renderHighlights = _a.renderHighlights,\n    store = _a.store;\n  var _b = React__namespace.useState(store.get('highlightState')),\n    highlightState = _b[0],\n    setHighlightState = _b[1];\n  var rotation = useRotation(store).rotation;\n  var handleHighlightState = function (s) {\n    return setHighlightState(s);\n  };\n  var cancel = function () {\n    window.getSelection().removeAllRanges();\n    store.update('highlightState', NO_SELECTION_STATE);\n  };\n  React__namespace.useEffect(function () {\n    store.subscribe('highlightState', handleHighlightState);\n    return function () {\n      store.unsubscribe('highlightState', handleHighlightState);\n    };\n  }, []);\n  var listAreas = highlightState.type === HighlightStateType.Selection ? highlightState.highlightAreas.filter(function (s) {\n    return s.pageIndex === pageIndex;\n  }) : [];\n  return React__namespace.createElement(React__namespace.Fragment, null, renderHighlightTarget && (highlightState.type === HighlightStateType.Selected || highlightState.type === HighlightStateType.ClickDragged) && highlightState.selectionRegion.pageIndex === pageIndex && renderHighlightTarget({\n    highlightAreas: highlightState.highlightAreas,\n    previewImage: highlightState.previewImage || '',\n    selectedText: highlightState.selectedText || '',\n    selectionRegion: highlightState.selectionRegion,\n    selectionData: highlightState.selectionData,\n    cancel: cancel,\n    toggle: function () {\n      var newState = Object.assign({}, highlightState, {\n        type: HighlightStateType.Selection\n      });\n      store.update('highlightState', newState);\n      window.getSelection().removeAllRanges();\n    }\n  }), renderHighlightContent && highlightState.type == HighlightStateType.Selection && highlightState.selectionRegion.pageIndex === pageIndex && renderHighlightContent({\n    highlightAreas: highlightState.highlightAreas,\n    previewImage: highlightState.previewImage || '',\n    selectedText: highlightState.selectedText || '',\n    selectionRegion: highlightState.selectionRegion,\n    selectionData: highlightState.selectionData,\n    cancel: cancel\n  }), listAreas.length > 0 && React__namespace.createElement(\"div\", null, listAreas.map(function (area, idx) {\n    return React__namespace.createElement(HighlightRect, {\n      key: idx,\n      area: area,\n      rotation: rotation\n    });\n  })), renderHighlights && renderHighlights({\n    pageIndex: pageIndex,\n    rotation: rotation,\n    getCssProperties: getCssProperties\n  }));\n};\nexports.Trigger = void 0;\n(function (Trigger) {\n  Trigger[\"None\"] = \"None\";\n  Trigger[\"TextSelection\"] = \"TextSelection\";\n})(exports.Trigger || (exports.Trigger = {}));\nvar getRectFromOffsets = function (textDiv, startOffset, endOffset) {\n  var clonedEle = textDiv.cloneNode(true);\n  textDiv.parentNode.appendChild(clonedEle);\n  var firstChild = clonedEle.firstChild;\n  var range = new Range();\n  range.setStart(firstChild, startOffset);\n  range.setEnd(firstChild, endOffset);\n  var wrapper = document.createElement('span');\n  range.surroundContents(wrapper);\n  var rect = wrapper.getBoundingClientRect();\n  clonedEle.parentNode.removeChild(clonedEle);\n  return rect;\n};\nvar getTextFromOffsets = function (nodes, pageIndex, startDivIdx, startOffset, endDivIdx, endOffset) {\n  if (startDivIdx < endDivIdx) {\n    var startDivText = nodes.slice(startDivIdx, startDivIdx + 1).map(function (node) {\n      return node.textContent.substring(startOffset).trim();\n    }).join(' ');\n    var middleDivText = nodes.slice(startDivIdx + 1, endDivIdx).map(function (node) {\n      return node.textContent.trim();\n    }).join(' ');\n    var endDivText = nodes.slice(endDivIdx, endDivIdx + 1).map(function (endDiv) {\n      return endDiv.textContent.substring(0, endOffset || endDiv.textContent.length);\n    }).join(' ');\n    var wholeText = \"\".concat(startDivText, \" \").concat(middleDivText, \" \").concat(endDivText);\n    var divTexts = nodes.slice(startDivIdx, endDivIdx + 1).map(function (node, idx) {\n      return {\n        divIndex: startDivIdx + idx,\n        pageIndex: pageIndex,\n        textContent: node.textContent\n      };\n    });\n    return {\n      divTexts: divTexts,\n      wholeText: wholeText\n    };\n  } else {\n    var div = nodes[startDivIdx];\n    var wholeText = div.textContent.substring(startOffset, endOffset || div.textContent.length).trim();\n    var divTexts = [{\n      divIndex: startDivIdx,\n      pageIndex: pageIndex,\n      textContent: div.textContent\n    }];\n    return {\n      divTexts: divTexts,\n      wholeText: wholeText\n    };\n  }\n};\nvar SelectionRange;\n(function (SelectionRange) {\n  SelectionRange[\"SameDiv\"] = \"SameDiv\";\n  SelectionRange[\"DifferentDivs\"] = \"DifferentDivs\";\n  SelectionRange[\"DifferentPages\"] = \"DifferentPages\";\n})(SelectionRange || (SelectionRange = {}));\nvar EMPTY_SELECTION = ['', '\\n'];\nvar Tracker = function (_a) {\n  var store = _a.store;\n  var rotation = useRotation(store).rotation;\n  var pagesRef = React__namespace.useRef(null);\n  var _b = React__namespace.useState(false),\n    arePagesFound = _b[0],\n    setPagesFound = _b[1];\n  var _c = React__namespace.useState(store.get('trigger')),\n    trigger = _c[0],\n    setTrigger = _c[1];\n  var handlePagesContainer = function (getPagesContainer) {\n    var ele = getPagesContainer();\n    pagesRef.current = ele;\n    setPagesFound(!!ele);\n  };\n  var handleTrigger = function (trigger) {\n    return setTrigger(trigger);\n  };\n  var onMouseUpHandler = function () {\n    var selection = document.getSelection();\n    var highlightState = store.get('highlightState');\n    var hasSelection = (highlightState.type === HighlightStateType.NoSelection || highlightState.type === HighlightStateType.Selected) && selection.rangeCount > 0 && EMPTY_SELECTION.indexOf(selection.toString()) === -1;\n    if (!hasSelection) {\n      return;\n    }\n    var range = selection.getRangeAt(0);\n    var startDiv = range.startContainer.parentNode;\n    var parentEndContainer = range.endContainer.parentNode;\n    var shouldIgnoreEndContainer = parentEndContainer instanceof HTMLElement && parentEndContainer.hasAttribute(HIGHLIGHT_LAYER_ATTR);\n    var endDiv, endOffset;\n    if (startDiv && startDiv.parentNode == range.endContainer) {\n      endDiv = startDiv;\n      endOffset = endDiv.textContent.length;\n    } else if (shouldIgnoreEndContainer && range.endOffset == 0) {\n      endDiv = range.endContainer.previousSibling;\n      endOffset = endDiv.textContent.length;\n    } else if (shouldIgnoreEndContainer) {\n      endDiv = range.endContainer;\n      endOffset = range.endOffset;\n    } else {\n      endDiv = parentEndContainer;\n      endOffset = range.endOffset;\n    }\n    if (!(startDiv instanceof HTMLElement) || !(endDiv instanceof HTMLElement)) {\n      return;\n    }\n    var startPageIndex = parseInt(startDiv.getAttribute(HIGHLIGHT_PAGE_ATTR), 10);\n    var endPageIndex = parseInt(endDiv.getAttribute(HIGHLIGHT_PAGE_ATTR), 10);\n    var startTextLayer = startDiv.parentElement;\n    var endTextLayer = endDiv.parentElement;\n    var startPageRect = startTextLayer.getBoundingClientRect();\n    var startDivSiblings = [].slice.call(startTextLayer.querySelectorAll(\"[\".concat(HIGHLIGHT_PAGE_ATTR, \"]\")));\n    var startDivIndex = startDivSiblings.indexOf(startDiv);\n    var endPageRect = endTextLayer.getBoundingClientRect();\n    var endDivSiblings = [].slice.call(endTextLayer.querySelectorAll(\"[\".concat(HIGHLIGHT_PAGE_ATTR, \"]\")));\n    var endDivIndex = endDivSiblings.indexOf(endDiv);\n    var startOffset = range.startOffset;\n    var rangeType = SelectionRange.DifferentPages;\n    switch (true) {\n      case startPageIndex === endPageIndex && startDivIndex === endDivIndex:\n        rangeType = SelectionRange.SameDiv;\n        break;\n      case startPageIndex === endPageIndex && startDivIndex < endDivIndex:\n        rangeType = SelectionRange.DifferentDivs;\n        break;\n      default:\n        rangeType = SelectionRange.DifferentPages;\n        break;\n    }\n    var getRectBetween = function (min, max, eleArray) {\n      return Array(max - min + 1).fill(0).map(function (_, i) {\n        return eleArray[min + i].getBoundingClientRect();\n      });\n    };\n    var highlightAreas = [];\n    switch (rangeType) {\n      case SelectionRange.SameDiv:\n        var rect = getRectFromOffsets(startDiv, startOffset, endOffset);\n        highlightAreas = [{\n          height: rect.height * 100 / startPageRect.height,\n          left: (rect.left - startPageRect.left) * 100 / startPageRect.width,\n          pageIndex: startPageIndex,\n          top: (rect.top - startPageRect.top) * 100 / startPageRect.height,\n          width: rect.width * 100 / startPageRect.width\n        }];\n        break;\n      case SelectionRange.DifferentDivs:\n        highlightAreas = [getRectFromOffsets(startDiv, startOffset, startDiv.textContent.length)].concat(getRectBetween(startDivIndex + 1, endDivIndex - 1, startDivSiblings)).concat([getRectFromOffsets(endDiv, 0, endOffset)]).map(function (rect) {\n          return {\n            height: rect.height * 100 / startPageRect.height,\n            left: (rect.left - startPageRect.left) * 100 / startPageRect.width,\n            pageIndex: startPageIndex,\n            top: (rect.top - startPageRect.top) * 100 / startPageRect.height,\n            width: rect.width * 100 / startPageRect.width\n          };\n        });\n        break;\n      case SelectionRange.DifferentPages:\n        var startAreas = [getRectFromOffsets(startDiv, startOffset, startDiv.textContent.length)].concat(getRectBetween(startDivIndex + 1, startDivSiblings.length - 1, startDivSiblings)).map(function (rect) {\n          return {\n            height: rect.height * 100 / startPageRect.height,\n            left: (rect.left - startPageRect.left) * 100 / startPageRect.width,\n            pageIndex: startPageIndex,\n            top: (rect.top - startPageRect.top) * 100 / startPageRect.height,\n            width: rect.width * 100 / startPageRect.width\n          };\n        });\n        var endAreas = getRectBetween(0, endDivIndex - 1, endDivSiblings).concat([getRectFromOffsets(endDiv, 0, endOffset)]).map(function (rect) {\n          return {\n            height: rect.height * 100 / endPageRect.height,\n            left: (rect.left - endPageRect.left) * 100 / endPageRect.width,\n            pageIndex: endPageIndex,\n            top: (rect.top - endPageRect.top) * 100 / endPageRect.height,\n            width: rect.width * 100 / endPageRect.width\n          };\n        });\n        highlightAreas = startAreas.concat(endAreas);\n        break;\n    }\n    var selectedText = '';\n    var divTexts = [];\n    switch (rangeType) {\n      case SelectionRange.SameDiv:\n        var textDataSameDiv = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, startDivIndex, endOffset);\n        selectedText = textDataSameDiv.wholeText;\n        divTexts = textDataSameDiv.divTexts;\n        break;\n      case SelectionRange.DifferentDivs:\n        var textDataDifferentDivs = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, endDivIndex, endOffset);\n        selectedText = textDataDifferentDivs.wholeText;\n        divTexts = textDataDifferentDivs.divTexts;\n        break;\n      case SelectionRange.DifferentPages:\n        var startTextData = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, startDivSiblings.length);\n        var endTextData = getTextFromOffsets(endDivSiblings, endPageIndex, 0, 0, endDivIndex, endOffset);\n        selectedText = \"\".concat(startTextData.wholeText, \"\\n\").concat(endTextData.wholeText);\n        divTexts = startTextData.divTexts.concat(endTextData.divTexts);\n        break;\n    }\n    var selectionRegion;\n    if (highlightAreas.length > 0) {\n      selectionRegion = highlightAreas[highlightAreas.length - 1];\n    } else {\n      var endDivRect = endDiv.getBoundingClientRect();\n      selectionRegion = {\n        height: endDivRect.height * 100 / endPageRect.height,\n        left: (endDivRect.left - endPageRect.left) * 100 / endPageRect.width,\n        pageIndex: endPageIndex,\n        top: (endDivRect.top - endPageRect.top) * 100 / endPageRect.height,\n        width: endDivRect.width * 100 / endPageRect.width\n      };\n    }\n    var selectionData = {\n      divTexts: divTexts,\n      selectedText: selectedText,\n      startPageIndex: startPageIndex,\n      endPageIndex: endPageIndex,\n      startOffset: startOffset,\n      startDivIndex: startDivIndex,\n      endOffset: endOffset,\n      endDivIndex: endDivIndex\n    };\n    var selectedState = {\n      type: HighlightStateType.Selected,\n      selectedText: selectedText,\n      highlightAreas: highlightAreas.map(function (area) {\n        return transformArea(area, rotation);\n      }),\n      selectionData: selectionData,\n      selectionRegion: selectionRegion\n    };\n    store.update('highlightState', selectedState);\n  };\n  React__namespace.useEffect(function () {\n    var ele = pagesRef.current;\n    if (!ele || trigger === exports.Trigger.None) {\n      return;\n    }\n    ele.addEventListener('mouseup', onMouseUpHandler);\n    return function () {\n      ele.removeEventListener('mouseup', onMouseUpHandler);\n    };\n  }, [arePagesFound, trigger, rotation]);\n  React__namespace.useEffect(function () {\n    store.subscribe('getPagesContainer', handlePagesContainer);\n    store.subscribe('trigger', handleTrigger);\n    return function () {\n      store.unsubscribe('getPagesContainer', handlePagesContainer);\n      store.unsubscribe('trigger', handleTrigger);\n    };\n  }, []);\n  return React__namespace.createElement(React__namespace.Fragment, null);\n};\nvar TEXT_LAYER_END_SELECTOR = 'rpv-highlight__selected-end';\nvar highlightPlugin = function (props) {\n  var highlightPluginProps = Object.assign({}, {\n    trigger: exports.Trigger.TextSelection\n  }, props);\n  var store = React__namespace.useMemo(function () {\n    return core.createStore({\n      highlightState: NO_SELECTION_STATE,\n      trigger: highlightPluginProps.trigger\n    });\n  }, []);\n  var renderViewer = function (props) {\n    var currentSlot = props.slot;\n    if (currentSlot.subSlot && currentSlot.subSlot.children) {\n      currentSlot.subSlot.children = React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(Tracker, {\n        store: store\n      }), currentSlot.subSlot.children);\n    }\n    return currentSlot;\n  };\n  var handleMouseDown = function (textLayerRender) {\n    return function (e) {\n      if (store.get('trigger') === exports.Trigger.None || e.button !== 0) {\n        return;\n      }\n      var textLayer = textLayerRender.ele;\n      var pageRect = textLayer.getBoundingClientRect();\n      var highlightState = store.get('highlightState');\n      if (highlightState.type === HighlightStateType.Selected) {\n        var mouseTop_1 = e.clientY - pageRect.top;\n        var mouseLeft_1 = e.clientX - pageRect.left;\n        var userClickedInsideArea = highlightState.highlightAreas.filter(function (area) {\n          return area.pageIndex === textLayerRender.pageIndex;\n        }).find(function (area) {\n          var t = area.top * pageRect.height / 100;\n          var l = area.left * pageRect.width / 100;\n          var h = area.height * pageRect.height / 100;\n          var w = area.width * pageRect.width / 100;\n          return t <= mouseTop_1 && mouseTop_1 <= t + h && l <= mouseLeft_1 && mouseLeft_1 <= l + w;\n        });\n        if (userClickedInsideArea) {\n          window.getSelection().removeAllRanges();\n          store.update('highlightState', NO_SELECTION_STATE);\n        } else {\n          store.update('highlightState', SELECTING_STATE);\n        }\n      } else {\n        store.update('highlightState', NO_SELECTION_STATE);\n      }\n      var selectionTop = (e.clientY - pageRect.top) * 100 / pageRect.height;\n      var selectEnd = textLayer.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n      if (selectEnd && e.target !== textLayer) {\n        selectEnd.style.top = \"\".concat(Math.max(0, selectionTop), \"%\");\n      }\n    };\n  };\n  var handleMouseUp = function (textLayerRender) {\n    return function (e) {\n      if (store.get('trigger') === exports.Trigger.None) {\n        return;\n      }\n      var selectEnd = textLayerRender.ele.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n      if (selectEnd) {\n        selectEnd.style.removeProperty('top');\n      }\n    };\n  };\n  var onTextLayerRender = function (e) {\n    var mouseDownHandler = handleMouseDown(e);\n    var mouseUpHandler = handleMouseUp(e);\n    var textEle = e.ele;\n    if (e.status === core.LayerRenderStatus.PreRender) {\n      textEle.removeEventListener('mousedown', mouseDownHandler);\n      textEle.removeEventListener('mouseup', mouseUpHandler);\n      var selectEndEle = textEle.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n      if (selectEndEle) {\n        textEle.removeChild(selectEndEle);\n      }\n    } else if (e.status === core.LayerRenderStatus.DidRender) {\n      textEle.addEventListener('mousedown', mouseDownHandler);\n      textEle.addEventListener('mouseup', mouseUpHandler);\n      textEle.setAttribute(HIGHLIGHT_LAYER_ATTR, 'true');\n      textEle.querySelectorAll('.rpv-core__text-layer-text').forEach(function (span) {\n        return span.setAttribute(HIGHLIGHT_PAGE_ATTR, \"\".concat(e.pageIndex));\n      });\n      if (!textEle.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR))) {\n        var selectEnd = document.createElement('div');\n        selectEnd.classList.add(TEXT_LAYER_END_SELECTOR);\n        selectEnd.classList.add('rpv-core__text-layer-text--not');\n        textEle.appendChild(selectEnd);\n      }\n    }\n  };\n  var renderPageLayer = function (renderPageProps) {\n    return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(ClickDrag, {\n      canvasLayerRef: renderPageProps.canvasLayerRef,\n      canvasLayerRendered: renderPageProps.canvasLayerRendered,\n      pageIndex: renderPageProps.pageIndex,\n      store: store,\n      textLayerRef: renderPageProps.textLayerRef,\n      textLayerRendered: renderPageProps.textLayerRendered\n    }), React__namespace.createElement(HighlightAreaList, {\n      pageIndex: renderPageProps.pageIndex,\n      renderHighlightContent: highlightPluginProps.renderHighlightContent,\n      renderHighlightTarget: highlightPluginProps.renderHighlightTarget,\n      renderHighlights: highlightPluginProps.renderHighlights,\n      store: store\n    }));\n  };\n  var jumpToHighlightArea = function (area) {\n    var jumpToDestination = store.get('jumpToDestination');\n    if (jumpToDestination) {\n      var bottomOffset = function (_, viewportHeight) {\n        return (100 - area.top) * viewportHeight / 100;\n      };\n      var leftOffset = function (viewportWidth, _) {\n        return (100 - area.left) * viewportWidth / 100;\n      };\n      jumpToDestination({\n        pageIndex: area.pageIndex,\n        bottomOffset: bottomOffset,\n        leftOffset: leftOffset\n      });\n    }\n  };\n  var switchTrigger = function (trigger) {\n    store.update('trigger', trigger);\n  };\n  return {\n    install: function (pluginFunctions) {\n      store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n      store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n    },\n    onViewerStateChange: function (viewerState) {\n      store.update('rotation', viewerState.rotation);\n      return viewerState;\n    },\n    onTextLayerRender: onTextLayerRender,\n    renderPageLayer: renderPageLayer,\n    renderViewer: renderViewer,\n    jumpToHighlightArea: jumpToHighlightArea,\n    switchTrigger: switchTrigger\n  };\n};\nvar MessageIcon = function () {\n  return React__namespace.createElement(core.Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M23.5,17a1,1,0,0,1-1,1h-11l-4,4V18h-6a1,1,0,0,1-1-1V3a1,1,0,0,1,1-1h21a1,1,0,0,1,1,1Z\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M5.5 12L18.5 12\"\n  }), React__namespace.createElement(\"path\", {\n    d: \"M5.5 7L18.5 7\"\n  }));\n};\nexports.MessageIcon = MessageIcon;\nexports.highlightPlugin = highlightPlugin;","map":{"version":3,"names":["core","require","React","_interopNamespaceDefault","e","n","Object","create","keys","forEach","k","d","getOwnPropertyDescriptor","defineProperty","get","enumerable","default","freeze","React__namespace","getImageFromArea","newCanvas","document","createElement","dpr","window","devicePixelRatio","canvasEle","highlightArea","canvasRect","getBoundingClientRect","left","width","top","height","context","getContext","drawImage","toDataURL","HighlightStateType","EMPTY_SELECTION_REGION","pageIndex","NO_SELECTION_STATE","highlightAreas","selectionRegion","type","NoSelection","SELECTING_STATE","Selecting","ClickDrag","_a","canvasLayerRef","canvasLayerRendered","store","textLayerRef","textLayerRendered","containerRef","useRef","currentCursorRef","body","style","cursor","startPointRef","x","y","offsetRef","hideContainer","container","current","classList","add","handleMouseDown","textLayerEle","altKey","button","preventDefault","rect","startPoint","clientX","clientY","offset","concat","addEventListener","handleDocumentMouseMove","handleDocumentMouseUp","updateCurrentValue","currentState","assign","ClickDragging","endPoint","contains","remove","Math","min","handleDocumentKeyDown","key","ClickDragged","update","handleDocumenClick","highlightType","target","removeEventListener","resetCursor","parseFloat","slice","previewImage","newState","removeProperty","handleHighlightState","s","Selection","useEffect","subscribe","unsubscribe","eventOptions","capture","ref","className","HIGHLIGHT_LAYER_ATTR","HIGHLIGHT_PAGE_ATTR","normalizeRotation","rotation","getCssProperties","area","r","position","right","bottom","transformArea","HighlightRect","useRotation","useState","setRotation","handleRotationChanged","currentRotation","HighlightAreaList","renderHighlightContent","renderHighlightTarget","renderHighlights","_b","highlightState","setHighlightState","cancel","getSelection","removeAllRanges","listAreas","filter","Fragment","Selected","selectedText","selectionData","toggle","length","map","idx","exports","Trigger","getRectFromOffsets","textDiv","startOffset","endOffset","clonedEle","cloneNode","parentNode","appendChild","firstChild","range","Range","setStart","setEnd","wrapper","surroundContents","removeChild","getTextFromOffsets","nodes","startDivIdx","endDivIdx","startDivText","node","textContent","substring","trim","join","middleDivText","endDivText","endDiv","wholeText","divTexts","divIndex","div","SelectionRange","EMPTY_SELECTION","Tracker","pagesRef","arePagesFound","setPagesFound","_c","trigger","setTrigger","handlePagesContainer","getPagesContainer","ele","handleTrigger","onMouseUpHandler","selection","hasSelection","rangeCount","indexOf","toString","getRangeAt","startDiv","startContainer","parentEndContainer","endContainer","shouldIgnoreEndContainer","HTMLElement","hasAttribute","previousSibling","startPageIndex","parseInt","getAttribute","endPageIndex","startTextLayer","parentElement","endTextLayer","startPageRect","startDivSiblings","call","querySelectorAll","startDivIndex","endPageRect","endDivSiblings","endDivIndex","rangeType","DifferentPages","SameDiv","DifferentDivs","getRectBetween","max","eleArray","Array","fill","_","i","startAreas","endAreas","textDataSameDiv","textDataDifferentDivs","startTextData","endTextData","endDivRect","selectedState","None","TEXT_LAYER_END_SELECTOR","highlightPlugin","props","highlightPluginProps","TextSelection","useMemo","createStore","renderViewer","currentSlot","slot","subSlot","children","textLayerRender","textLayer","pageRect","mouseTop_1","mouseLeft_1","userClickedInsideArea","find","t","l","h","w","selectionTop","selectEnd","querySelector","handleMouseUp","onTextLayerRender","mouseDownHandler","mouseUpHandler","textEle","status","LayerRenderStatus","PreRender","selectEndEle","DidRender","setAttribute","span","renderPageLayer","renderPageProps","jumpToHighlightArea","jumpToDestination","bottomOffset","viewportHeight","leftOffset","viewportWidth","switchTrigger","install","pluginFunctions","onViewerStateChange","viewerState","MessageIcon","Icon","size"],"sources":["F:/E-Library-app-main/frontend/node_modules/@react-pdf-viewer/highlight/lib/cjs/highlight.js"],"sourcesContent":["'use strict';\n\nvar core = require('@react-pdf-viewer/core');\nvar React = require('react');\n\nfunction _interopNamespaceDefault(e) {\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n.default = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespaceDefault(React);\n\nvar getImageFromArea = function () {\n    var newCanvas = document.createElement('canvas');\n    var dpr = window.devicePixelRatio || 1;\n    return function (canvasEle, highlightArea) {\n        var canvasRect = canvasEle.getBoundingClientRect();\n        var left = (highlightArea.left * canvasRect.width) / 100;\n        var top = (highlightArea.top * canvasRect.height) / 100;\n        var width = (highlightArea.width * canvasRect.width) / 100;\n        var height = (highlightArea.height * canvasRect.height) / 100;\n        var context = newCanvas.getContext('2d');\n        newCanvas.width = width;\n        newCanvas.height = height;\n        context === null || context === void 0 ? void 0 : context.drawImage(canvasEle, left * dpr, top * dpr, width * dpr, height * dpr, 0, 0, width, height);\n        return newCanvas.toDataURL('image/png');\n    };\n};\n\nvar HighlightStateType;\n(function (HighlightStateType) {\n    HighlightStateType[\"NoSelection\"] = \"NoSelection\";\n    HighlightStateType[\"Selecting\"] = \"Selecting\";\n    HighlightStateType[\"Selected\"] = \"Selected\";\n    HighlightStateType[\"Selection\"] = \"Selection\";\n    HighlightStateType[\"ClickDragging\"] = \"ClickDragging\";\n    HighlightStateType[\"ClickDragged\"] = \"ClickDragged\";\n})(HighlightStateType || (HighlightStateType = {}));\nvar EMPTY_SELECTION_REGION = {\n    height: 0,\n    left: 0,\n    pageIndex: -1,\n    top: 0,\n    width: 0,\n};\nvar NO_SELECTION_STATE = {\n    highlightAreas: [],\n    selectionRegion: EMPTY_SELECTION_REGION,\n    type: HighlightStateType.NoSelection,\n};\nvar SELECTING_STATE = {\n    highlightAreas: [],\n    selectionRegion: EMPTY_SELECTION_REGION,\n    type: HighlightStateType.Selecting,\n};\n\nvar ClickDrag = function (_a) {\n    var canvasLayerRef = _a.canvasLayerRef, canvasLayerRendered = _a.canvasLayerRendered, pageIndex = _a.pageIndex, store = _a.store, textLayerRef = _a.textLayerRef, textLayerRendered = _a.textLayerRendered;\n    var containerRef = React__namespace.useRef();\n    var currentCursorRef = React__namespace.useRef(document.body.style.cursor);\n    var startPointRef = React__namespace.useRef({ x: 0, y: 0 });\n    var offsetRef = React__namespace.useRef({ top: 0, left: 0 });\n    var hideContainer = function () {\n        var container = containerRef.current;\n        if (container) {\n            container.classList.add('rpv-highlight__click-drag--hidden');\n        }\n    };\n    var handleMouseDown = function (e) {\n        var textLayerEle = textLayerRef.current;\n        var container = containerRef.current;\n        if (!e.altKey || !textLayerEle || !container || e.button !== 0) {\n            return;\n        }\n        e.preventDefault();\n        document.body.style.cursor = 'crosshair';\n        var rect = textLayerEle.getBoundingClientRect();\n        var startPoint = {\n            x: e.clientX,\n            y: e.clientY,\n        };\n        startPointRef.current = startPoint;\n        var offset = {\n            top: ((startPoint.y - rect.top) * 100) / rect.height,\n            left: ((startPoint.x - rect.left) * 100) / rect.width,\n        };\n        offsetRef.current = offset;\n        container.style.top = \"\".concat(offset.top, \"%\");\n        container.style.left = \"\".concat(offset.left, \"%\");\n        container.style.height = '0px';\n        container.style.width = '0px';\n        document.addEventListener('mousemove', handleDocumentMouseMove);\n        document.addEventListener('mouseup', handleDocumentMouseUp);\n        store.updateCurrentValue('highlightState', function (currentState) {\n            return Object.assign({}, currentState, { type: HighlightStateType.ClickDragging });\n        });\n    };\n    var handleDocumentMouseMove = function (e) {\n        var textLayerEle = textLayerRef.current;\n        var container = containerRef.current;\n        if (!textLayerEle || !container) {\n            return;\n        }\n        e.preventDefault();\n        var endPoint = {\n            x: e.clientX - startPointRef.current.x,\n            y: e.clientY - startPointRef.current.y,\n        };\n        var rect = textLayerEle.getBoundingClientRect();\n        if (container.classList.contains('rpv-highlight__click-drag--hidden')) {\n            container.classList.remove('rpv-highlight__click-drag--hidden');\n        }\n        var width = Math.min(100 - offsetRef.current.left, (endPoint.x * 100) / rect.width);\n        var height = Math.min(100 - offsetRef.current.top, (endPoint.y * 100) / rect.height);\n        container.style.width = \"\".concat(width, \"%\");\n        container.style.height = \"\".concat(height, \"%\");\n    };\n    var handleDocumentKeyDown = function (e) {\n        if (e.key === 'Escape' && store.get('highlightState').type === HighlightStateType.ClickDragged) {\n            e.preventDefault();\n            hideContainer();\n            store.update('highlightState', NO_SELECTION_STATE);\n        }\n    };\n    var handleDocumenClick = function (e) {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var highlightType = store.get('highlightState').type;\n        if (highlightType === HighlightStateType.NoSelection && e.target !== container) {\n            hideContainer();\n        }\n    };\n    var handleDocumentMouseUp = function (e) {\n        e.preventDefault();\n        document.removeEventListener('mousemove', handleDocumentMouseMove);\n        document.removeEventListener('mouseup', handleDocumentMouseUp);\n        resetCursor();\n        var container = containerRef.current;\n        var canvasEle = canvasLayerRef.current;\n        if (!container || !canvasEle) {\n            return;\n        }\n        var highlightArea = {\n            pageIndex: pageIndex,\n            top: parseFloat(container.style.top.slice(0, -1)),\n            left: parseFloat(container.style.left.slice(0, -1)),\n            height: parseFloat(container.style.height.slice(0, -1)),\n            width: parseFloat(container.style.width.slice(0, -1)),\n        };\n        var previewImage = getImageFromArea()(canvasEle, highlightArea);\n        var newState = {\n            highlightAreas: [highlightArea],\n            previewImage: previewImage,\n            selectionRegion: highlightArea,\n            type: HighlightStateType.ClickDragged,\n        };\n        store.update('highlightState', newState);\n    };\n    var resetCursor = function () {\n        currentCursorRef.current\n            ? (document.body.style.cursor = currentCursorRef.current)\n            : document.body.style.removeProperty('cursor');\n    };\n    var handleHighlightState = function (s) {\n        if (s.type === HighlightStateType.Selection ||\n            (s.type === HighlightStateType.ClickDragging && s.selectionRegion.pageIndex !== pageIndex)) {\n            hideContainer();\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('highlightState', handleHighlightState);\n        return function () {\n            store.unsubscribe('highlightState', handleHighlightState);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        var canvasEle = canvasLayerRef.current;\n        var textLayerEle = textLayerRef.current;\n        if (!canvasLayerRendered || !textLayerRendered || !canvasEle || !textLayerEle) {\n            return;\n        }\n        textLayerEle.addEventListener('mousedown', handleMouseDown);\n        var eventOptions = {\n            capture: true,\n        };\n        document.addEventListener('keydown', handleDocumentKeyDown);\n        document.addEventListener('click', handleDocumenClick, eventOptions);\n        return function () {\n            textLayerEle.removeEventListener('mousedown', handleMouseDown);\n            document.removeEventListener('click', handleDocumenClick, eventOptions);\n            document.removeEventListener('keydown', handleDocumentKeyDown);\n        };\n    }, [textLayerRendered]);\n    return React__namespace.createElement(\"div\", { ref: containerRef, className: \"rpv-highlight__click-drag rpv-highlight__click-drag--hidden\" });\n};\n\nvar HIGHLIGHT_LAYER_ATTR = 'data-highlight-text-layer';\nvar HIGHLIGHT_PAGE_ATTR = 'data-highlight-text-page';\n\nvar normalizeRotation = function (rotation) { return (rotation >= 0 ? rotation : 360 + rotation); };\nvar getCssProperties = function (area, rotation) {\n    var r = normalizeRotation(rotation);\n    switch (r) {\n        case 90:\n            return {\n                height: \"\".concat(area.width, \"%\"),\n                position: 'absolute',\n                right: \"\".concat(area.top, \"%\"),\n                top: \"\".concat(area.left, \"%\"),\n                width: \"\".concat(area.height, \"%\"),\n            };\n        case 180:\n            return {\n                bottom: \"\".concat(area.top, \"%\"),\n                height: \"\".concat(area.height, \"%\"),\n                position: 'absolute',\n                right: \"\".concat(area.left, \"%\"),\n                width: \"\".concat(area.width, \"%\"),\n            };\n        case 270:\n            return {\n                height: \"\".concat(area.width, \"%\"),\n                position: 'absolute',\n                left: \"\".concat(area.top, \"%\"),\n                bottom: \"\".concat(area.left, \"%\"),\n                width: \"\".concat(area.height, \"%\"),\n            };\n        case 0:\n        case 360:\n        default:\n            return {\n                height: \"\".concat(area.height, \"%\"),\n                position: 'absolute',\n                top: \"\".concat(area.top, \"%\"),\n                left: \"\".concat(area.left, \"%\"),\n                width: \"\".concat(area.width, \"%\"),\n            };\n    }\n};\nvar transformArea = function (area, rotation) {\n    var r = normalizeRotation(rotation);\n    switch (r) {\n        case 90:\n            return {\n                height: area.width,\n                left: area.top,\n                pageIndex: area.pageIndex,\n                top: 100 - area.width - area.left,\n                width: area.height,\n            };\n        case 180:\n            return {\n                height: area.height,\n                left: 100 - area.width - area.left,\n                pageIndex: area.pageIndex,\n                top: 100 - area.height - area.top,\n                width: area.width,\n            };\n        case 270:\n            return {\n                height: area.width,\n                left: 100 - area.height - area.top,\n                pageIndex: area.pageIndex,\n                top: area.left,\n                width: area.height,\n            };\n        case 0:\n        case 360:\n        default:\n            return area;\n    }\n};\n\nvar HighlightRect = function (_a) {\n    var area = _a.area, rotation = _a.rotation;\n    return React__namespace.createElement(\"div\", { className: \"rpv-highlight__selected-text\", style: getCssProperties(area, rotation) });\n};\n\nvar useRotation = function (store) {\n    var _a = React__namespace.useState(store.get('rotation') || 0), rotation = _a[0], setRotation = _a[1];\n    var handleRotationChanged = function (currentRotation) { return setRotation(currentRotation); };\n    React__namespace.useEffect(function () {\n        store.subscribe('rotation', handleRotationChanged);\n        return function () {\n            store.unsubscribe('rotation', handleRotationChanged);\n        };\n    }, []);\n    return { rotation: rotation };\n};\n\nvar HighlightAreaList = function (_a) {\n    var pageIndex = _a.pageIndex, renderHighlightContent = _a.renderHighlightContent, renderHighlightTarget = _a.renderHighlightTarget, renderHighlights = _a.renderHighlights, store = _a.store;\n    var _b = React__namespace.useState(store.get('highlightState')), highlightState = _b[0], setHighlightState = _b[1];\n    var rotation = useRotation(store).rotation;\n    var handleHighlightState = function (s) { return setHighlightState(s); };\n    var cancel = function () {\n        window.getSelection().removeAllRanges();\n        store.update('highlightState', NO_SELECTION_STATE);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('highlightState', handleHighlightState);\n        return function () {\n            store.unsubscribe('highlightState', handleHighlightState);\n        };\n    }, []);\n    var listAreas = highlightState.type === HighlightStateType.Selection\n        ? highlightState.highlightAreas.filter(function (s) { return s.pageIndex === pageIndex; })\n        : [];\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        renderHighlightTarget &&\n            (highlightState.type === HighlightStateType.Selected ||\n                highlightState.type === HighlightStateType.ClickDragged) &&\n            highlightState.selectionRegion.pageIndex === pageIndex &&\n            renderHighlightTarget({\n                highlightAreas: highlightState.highlightAreas,\n                previewImage: highlightState.previewImage || '',\n                selectedText: highlightState.selectedText || '',\n                selectionRegion: highlightState.selectionRegion,\n                selectionData: highlightState.selectionData,\n                cancel: cancel,\n                toggle: function () {\n                    var newState = Object.assign({}, highlightState, {\n                        type: HighlightStateType.Selection,\n                    });\n                    store.update('highlightState', newState);\n                    window.getSelection().removeAllRanges();\n                },\n            }),\n        renderHighlightContent &&\n            highlightState.type == HighlightStateType.Selection &&\n            highlightState.selectionRegion.pageIndex === pageIndex &&\n            renderHighlightContent({\n                highlightAreas: highlightState.highlightAreas,\n                previewImage: highlightState.previewImage || '',\n                selectedText: highlightState.selectedText || '',\n                selectionRegion: highlightState.selectionRegion,\n                selectionData: highlightState.selectionData,\n                cancel: cancel,\n            }),\n        listAreas.length > 0 && (React__namespace.createElement(\"div\", null, listAreas.map(function (area, idx) { return (React__namespace.createElement(HighlightRect, { key: idx, area: area, rotation: rotation })); }))),\n        renderHighlights &&\n            renderHighlights({\n                pageIndex: pageIndex,\n                rotation: rotation,\n                getCssProperties: getCssProperties,\n            })));\n};\n\nexports.Trigger = void 0;\n(function (Trigger) {\n    Trigger[\"None\"] = \"None\";\n    Trigger[\"TextSelection\"] = \"TextSelection\";\n})(exports.Trigger || (exports.Trigger = {}));\n\nvar getRectFromOffsets = function (textDiv, startOffset, endOffset) {\n    var clonedEle = textDiv.cloneNode(true);\n    textDiv.parentNode.appendChild(clonedEle);\n    var firstChild = clonedEle.firstChild;\n    var range = new Range();\n    range.setStart(firstChild, startOffset);\n    range.setEnd(firstChild, endOffset);\n    var wrapper = document.createElement('span');\n    range.surroundContents(wrapper);\n    var rect = wrapper.getBoundingClientRect();\n    clonedEle.parentNode.removeChild(clonedEle);\n    return rect;\n};\n\nvar getTextFromOffsets = function (nodes, pageIndex, startDivIdx, startOffset, endDivIdx, endOffset) {\n    if (startDivIdx < endDivIdx) {\n        var startDivText = nodes\n            .slice(startDivIdx, startDivIdx + 1)\n            .map(function (node) { return node.textContent.substring(startOffset).trim(); })\n            .join(' ');\n        var middleDivText = nodes\n            .slice(startDivIdx + 1, endDivIdx)\n            .map(function (node) { return node.textContent.trim(); })\n            .join(' ');\n        var endDivText = nodes\n            .slice(endDivIdx, endDivIdx + 1)\n            .map(function (endDiv) { return endDiv.textContent.substring(0, endOffset || endDiv.textContent.length); })\n            .join(' ');\n        var wholeText = \"\".concat(startDivText, \" \").concat(middleDivText, \" \").concat(endDivText);\n        var divTexts = nodes.slice(startDivIdx, endDivIdx + 1).map(function (node, idx) { return ({\n            divIndex: startDivIdx + idx,\n            pageIndex: pageIndex,\n            textContent: node.textContent,\n        }); });\n        return {\n            divTexts: divTexts,\n            wholeText: wholeText,\n        };\n    }\n    else {\n        var div = nodes[startDivIdx];\n        var wholeText = div.textContent.substring(startOffset, endOffset || div.textContent.length).trim();\n        var divTexts = [\n            {\n                divIndex: startDivIdx,\n                pageIndex: pageIndex,\n                textContent: div.textContent,\n            },\n        ];\n        return {\n            divTexts: divTexts,\n            wholeText: wholeText,\n        };\n    }\n};\n\nvar SelectionRange;\n(function (SelectionRange) {\n    SelectionRange[\"SameDiv\"] = \"SameDiv\";\n    SelectionRange[\"DifferentDivs\"] = \"DifferentDivs\";\n    SelectionRange[\"DifferentPages\"] = \"DifferentPages\";\n})(SelectionRange || (SelectionRange = {}));\n\nvar EMPTY_SELECTION = ['', '\\n'];\nvar Tracker = function (_a) {\n    var store = _a.store;\n    var rotation = useRotation(store).rotation;\n    var pagesRef = React__namespace.useRef(null);\n    var _b = React__namespace.useState(false), arePagesFound = _b[0], setPagesFound = _b[1];\n    var _c = React__namespace.useState(store.get('trigger')), trigger = _c[0], setTrigger = _c[1];\n    var handlePagesContainer = function (getPagesContainer) {\n        var ele = getPagesContainer();\n        pagesRef.current = ele;\n        setPagesFound(!!ele);\n    };\n    var handleTrigger = function (trigger) { return setTrigger(trigger); };\n    var onMouseUpHandler = function () {\n        var selection = document.getSelection();\n        var highlightState = store.get('highlightState');\n        var hasSelection = (highlightState.type === HighlightStateType.NoSelection ||\n            highlightState.type === HighlightStateType.Selected) &&\n            selection.rangeCount > 0 &&\n            EMPTY_SELECTION.indexOf(selection.toString()) === -1;\n        if (!hasSelection) {\n            return;\n        }\n        var range = selection.getRangeAt(0);\n        var startDiv = range.startContainer.parentNode;\n        var parentEndContainer = range.endContainer.parentNode;\n        var shouldIgnoreEndContainer = parentEndContainer instanceof HTMLElement && parentEndContainer.hasAttribute(HIGHLIGHT_LAYER_ATTR);\n        var endDiv, endOffset;\n        if (startDiv && startDiv.parentNode == range.endContainer) {\n            endDiv = startDiv;\n            endOffset = endDiv.textContent.length;\n        }\n        else if (shouldIgnoreEndContainer && range.endOffset == 0) {\n            endDiv = range.endContainer.previousSibling;\n            endOffset = endDiv.textContent.length;\n        }\n        else if (shouldIgnoreEndContainer) {\n            endDiv = range.endContainer;\n            endOffset = range.endOffset;\n        }\n        else {\n            endDiv = parentEndContainer;\n            endOffset = range.endOffset;\n        }\n        if (!(startDiv instanceof HTMLElement) || !(endDiv instanceof HTMLElement)) {\n            return;\n        }\n        var startPageIndex = parseInt(startDiv.getAttribute(HIGHLIGHT_PAGE_ATTR), 10);\n        var endPageIndex = parseInt(endDiv.getAttribute(HIGHLIGHT_PAGE_ATTR), 10);\n        var startTextLayer = startDiv.parentElement;\n        var endTextLayer = endDiv.parentElement;\n        var startPageRect = startTextLayer.getBoundingClientRect();\n        var startDivSiblings = [].slice.call(startTextLayer.querySelectorAll(\"[\".concat(HIGHLIGHT_PAGE_ATTR, \"]\")));\n        var startDivIndex = startDivSiblings.indexOf(startDiv);\n        var endPageRect = endTextLayer.getBoundingClientRect();\n        var endDivSiblings = [].slice.call(endTextLayer.querySelectorAll(\"[\".concat(HIGHLIGHT_PAGE_ATTR, \"]\")));\n        var endDivIndex = endDivSiblings.indexOf(endDiv);\n        var startOffset = range.startOffset;\n        var rangeType = SelectionRange.DifferentPages;\n        switch (true) {\n            case startPageIndex === endPageIndex && startDivIndex === endDivIndex:\n                rangeType = SelectionRange.SameDiv;\n                break;\n            case startPageIndex === endPageIndex && startDivIndex < endDivIndex:\n                rangeType = SelectionRange.DifferentDivs;\n                break;\n            default:\n                rangeType = SelectionRange.DifferentPages;\n                break;\n        }\n        var getRectBetween = function (min, max, eleArray) {\n            return Array(max - min + 1)\n                .fill(0)\n                .map(function (_, i) { return eleArray[min + i].getBoundingClientRect(); });\n        };\n        var highlightAreas = [];\n        switch (rangeType) {\n            case SelectionRange.SameDiv:\n                var rect = getRectFromOffsets(startDiv, startOffset, endOffset);\n                highlightAreas = [\n                    {\n                        height: (rect.height * 100) / startPageRect.height,\n                        left: ((rect.left - startPageRect.left) * 100) / startPageRect.width,\n                        pageIndex: startPageIndex,\n                        top: ((rect.top - startPageRect.top) * 100) / startPageRect.height,\n                        width: (rect.width * 100) / startPageRect.width,\n                    },\n                ];\n                break;\n            case SelectionRange.DifferentDivs:\n                highlightAreas = [getRectFromOffsets(startDiv, startOffset, startDiv.textContent.length)]\n                    .concat(getRectBetween(startDivIndex + 1, endDivIndex - 1, startDivSiblings))\n                    .concat([getRectFromOffsets(endDiv, 0, endOffset)])\n                    .map(function (rect) {\n                    return {\n                        height: (rect.height * 100) / startPageRect.height,\n                        left: ((rect.left - startPageRect.left) * 100) / startPageRect.width,\n                        pageIndex: startPageIndex,\n                        top: ((rect.top - startPageRect.top) * 100) / startPageRect.height,\n                        width: (rect.width * 100) / startPageRect.width,\n                    };\n                });\n                break;\n            case SelectionRange.DifferentPages:\n                var startAreas = [getRectFromOffsets(startDiv, startOffset, startDiv.textContent.length)]\n                    .concat(getRectBetween(startDivIndex + 1, startDivSiblings.length - 1, startDivSiblings))\n                    .map(function (rect) {\n                    return {\n                        height: (rect.height * 100) / startPageRect.height,\n                        left: ((rect.left - startPageRect.left) * 100) / startPageRect.width,\n                        pageIndex: startPageIndex,\n                        top: ((rect.top - startPageRect.top) * 100) / startPageRect.height,\n                        width: (rect.width * 100) / startPageRect.width,\n                    };\n                });\n                var endAreas = getRectBetween(0, endDivIndex - 1, endDivSiblings)\n                    .concat([getRectFromOffsets(endDiv, 0, endOffset)])\n                    .map(function (rect) {\n                    return {\n                        height: (rect.height * 100) / endPageRect.height,\n                        left: ((rect.left - endPageRect.left) * 100) / endPageRect.width,\n                        pageIndex: endPageIndex,\n                        top: ((rect.top - endPageRect.top) * 100) / endPageRect.height,\n                        width: (rect.width * 100) / endPageRect.width,\n                    };\n                });\n                highlightAreas = startAreas.concat(endAreas);\n                break;\n        }\n        var selectedText = '';\n        var divTexts = [];\n        switch (rangeType) {\n            case SelectionRange.SameDiv:\n                var textDataSameDiv = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, startDivIndex, endOffset);\n                selectedText = textDataSameDiv.wholeText;\n                divTexts = textDataSameDiv.divTexts;\n                break;\n            case SelectionRange.DifferentDivs:\n                var textDataDifferentDivs = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, endDivIndex, endOffset);\n                selectedText = textDataDifferentDivs.wholeText;\n                divTexts = textDataDifferentDivs.divTexts;\n                break;\n            case SelectionRange.DifferentPages:\n                var startTextData = getTextFromOffsets(startDivSiblings, startPageIndex, startDivIndex, startOffset, startDivSiblings.length);\n                var endTextData = getTextFromOffsets(endDivSiblings, endPageIndex, 0, 0, endDivIndex, endOffset);\n                selectedText = \"\".concat(startTextData.wholeText, \"\\n\").concat(endTextData.wholeText);\n                divTexts = startTextData.divTexts.concat(endTextData.divTexts);\n                break;\n        }\n        var selectionRegion;\n        if (highlightAreas.length > 0) {\n            selectionRegion = highlightAreas[highlightAreas.length - 1];\n        }\n        else {\n            var endDivRect = endDiv.getBoundingClientRect();\n            selectionRegion = {\n                height: (endDivRect.height * 100) / endPageRect.height,\n                left: ((endDivRect.left - endPageRect.left) * 100) / endPageRect.width,\n                pageIndex: endPageIndex,\n                top: ((endDivRect.top - endPageRect.top) * 100) / endPageRect.height,\n                width: (endDivRect.width * 100) / endPageRect.width,\n            };\n        }\n        var selectionData = {\n            divTexts: divTexts,\n            selectedText: selectedText,\n            startPageIndex: startPageIndex,\n            endPageIndex: endPageIndex,\n            startOffset: startOffset,\n            startDivIndex: startDivIndex,\n            endOffset: endOffset,\n            endDivIndex: endDivIndex,\n        };\n        var selectedState = {\n            type: HighlightStateType.Selected,\n            selectedText: selectedText,\n            highlightAreas: highlightAreas.map(function (area) { return transformArea(area, rotation); }),\n            selectionData: selectionData,\n            selectionRegion: selectionRegion,\n        };\n        store.update('highlightState', selectedState);\n    };\n    React__namespace.useEffect(function () {\n        var ele = pagesRef.current;\n        if (!ele || trigger === exports.Trigger.None) {\n            return;\n        }\n        ele.addEventListener('mouseup', onMouseUpHandler);\n        return function () {\n            ele.removeEventListener('mouseup', onMouseUpHandler);\n        };\n    }, [arePagesFound, trigger, rotation]);\n    React__namespace.useEffect(function () {\n        store.subscribe('getPagesContainer', handlePagesContainer);\n        store.subscribe('trigger', handleTrigger);\n        return function () {\n            store.unsubscribe('getPagesContainer', handlePagesContainer);\n            store.unsubscribe('trigger', handleTrigger);\n        };\n    }, []);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar TEXT_LAYER_END_SELECTOR = 'rpv-highlight__selected-end';\nvar highlightPlugin = function (props) {\n    var highlightPluginProps = Object.assign({}, { trigger: exports.Trigger.TextSelection }, props);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            highlightState: NO_SELECTION_STATE,\n            trigger: highlightPluginProps.trigger,\n        });\n    }, []);\n    var renderViewer = function (props) {\n        var currentSlot = props.slot;\n        if (currentSlot.subSlot && currentSlot.subSlot.children) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(Tracker, { store: store }),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    var handleMouseDown = function (textLayerRender) { return function (e) {\n        if (store.get('trigger') === exports.Trigger.None || e.button !== 0) {\n            return;\n        }\n        var textLayer = textLayerRender.ele;\n        var pageRect = textLayer.getBoundingClientRect();\n        var highlightState = store.get('highlightState');\n        if (highlightState.type === HighlightStateType.Selected) {\n            var mouseTop_1 = e.clientY - pageRect.top;\n            var mouseLeft_1 = e.clientX - pageRect.left;\n            var userClickedInsideArea = highlightState.highlightAreas\n                .filter(function (area) { return area.pageIndex === textLayerRender.pageIndex; })\n                .find(function (area) {\n                var t = (area.top * pageRect.height) / 100;\n                var l = (area.left * pageRect.width) / 100;\n                var h = (area.height * pageRect.height) / 100;\n                var w = (area.width * pageRect.width) / 100;\n                return t <= mouseTop_1 && mouseTop_1 <= t + h && l <= mouseLeft_1 && mouseLeft_1 <= l + w;\n            });\n            if (userClickedInsideArea) {\n                window.getSelection().removeAllRanges();\n                store.update('highlightState', NO_SELECTION_STATE);\n            }\n            else {\n                store.update('highlightState', SELECTING_STATE);\n            }\n        }\n        else {\n            store.update('highlightState', NO_SELECTION_STATE);\n        }\n        var selectionTop = ((e.clientY - pageRect.top) * 100) / pageRect.height;\n        var selectEnd = textLayer.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n        if (selectEnd && e.target !== textLayer) {\n            selectEnd.style.top = \"\".concat(Math.max(0, selectionTop), \"%\");\n        }\n    }; };\n    var handleMouseUp = function (textLayerRender) { return function (e) {\n        if (store.get('trigger') === exports.Trigger.None) {\n            return;\n        }\n        var selectEnd = textLayerRender.ele.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n        if (selectEnd) {\n            selectEnd.style.removeProperty('top');\n        }\n    }; };\n    var onTextLayerRender = function (e) {\n        var mouseDownHandler = handleMouseDown(e);\n        var mouseUpHandler = handleMouseUp(e);\n        var textEle = e.ele;\n        if (e.status === core.LayerRenderStatus.PreRender) {\n            textEle.removeEventListener('mousedown', mouseDownHandler);\n            textEle.removeEventListener('mouseup', mouseUpHandler);\n            var selectEndEle = textEle.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR));\n            if (selectEndEle) {\n                textEle.removeChild(selectEndEle);\n            }\n        }\n        else if (e.status === core.LayerRenderStatus.DidRender) {\n            textEle.addEventListener('mousedown', mouseDownHandler);\n            textEle.addEventListener('mouseup', mouseUpHandler);\n            textEle.setAttribute(HIGHLIGHT_LAYER_ATTR, 'true');\n            textEle\n                .querySelectorAll('.rpv-core__text-layer-text')\n                .forEach(function (span) { return span.setAttribute(HIGHLIGHT_PAGE_ATTR, \"\".concat(e.pageIndex)); });\n            if (!textEle.querySelector(\".\".concat(TEXT_LAYER_END_SELECTOR))) {\n                var selectEnd = document.createElement('div');\n                selectEnd.classList.add(TEXT_LAYER_END_SELECTOR);\n                selectEnd.classList.add('rpv-core__text-layer-text--not');\n                textEle.appendChild(selectEnd);\n            }\n        }\n    };\n    var renderPageLayer = function (renderPageProps) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(ClickDrag, { canvasLayerRef: renderPageProps.canvasLayerRef, canvasLayerRendered: renderPageProps.canvasLayerRendered, pageIndex: renderPageProps.pageIndex, store: store, textLayerRef: renderPageProps.textLayerRef, textLayerRendered: renderPageProps.textLayerRendered }),\n        React__namespace.createElement(HighlightAreaList, { pageIndex: renderPageProps.pageIndex, renderHighlightContent: highlightPluginProps.renderHighlightContent, renderHighlightTarget: highlightPluginProps.renderHighlightTarget, renderHighlights: highlightPluginProps.renderHighlights, store: store }))); };\n    var jumpToHighlightArea = function (area) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            var bottomOffset = function (_, viewportHeight) { return ((100 - area.top) * viewportHeight) / 100; };\n            var leftOffset = function (viewportWidth, _) { return ((100 - area.left) * viewportWidth) / 100; };\n            jumpToDestination({\n                pageIndex: area.pageIndex,\n                bottomOffset: bottomOffset,\n                leftOffset: leftOffset,\n            });\n        }\n    };\n    var switchTrigger = function (trigger) {\n        store.update('trigger', trigger);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n            store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('rotation', viewerState.rotation);\n            return viewerState;\n        },\n        onTextLayerRender: onTextLayerRender,\n        renderPageLayer: renderPageLayer,\n        renderViewer: renderViewer,\n        jumpToHighlightArea: jumpToHighlightArea,\n        switchTrigger: switchTrigger,\n    };\n};\n\nvar MessageIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.5,17a1,1,0,0,1-1,1h-11l-4,4V18h-6a1,1,0,0,1-1-1V3a1,1,0,0,1,1-1h21a1,1,0,0,1,1,1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M5.5 12L18.5 12\" }),\n    React__namespace.createElement(\"path\", { d: \"M5.5 7L18.5 7\" }))); };\n\nexports.MessageIcon = MessageIcon;\nexports.highlightPlugin = highlightPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}